<html>
  <head>
    <link rel="stylesheet" href="../../core/render_stage.css" />
    <script src="https://unpkg.com/blob-util/dist/blob-util.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.1.1/gsap.min.js"></script>
    <script src="../lib/gif.js"></script>
    <script src="//d3plus.org/js/d3.js"></script>
    <script src="//d3plus.org/js/d3plus.js"></script>
  </head>

  <body>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 216 216">
      <defs>
        <style>
          .cls-1 {
            fill: #955733;
          }
          .cls-2 {
            fill: #7d4a29;
          }
          .cls-3 {
            fill: #f9a223;
          }
          .cls-4 {
            fill: #e28424;
          }
          .cls-5 {
            fill: #7dc142;
          }
          .cls-6 {
            fill: #ffdf86;
          }
          .cls-7 {
            fill: #ffce45;
          }
          .cls-8 {
            fill: #ee374b;
          }
          .cls-9 {
            fill: #cc2033;
          }
          .cls-10 {
            fill: #ffe3a9;
          }
          .cls-11,
          .cls-12 {
            fill: none;
            stroke: #ffe3a9;
          }
          .cls-11,
          .cls-12,
          .cls-15 {
            stroke-linecap: round;
          }
          .cls-11,
          .cls-12,
          .cls-13,
          .cls-14 {
            stroke-miterlimit: 10;
          }
          .cls-11 {
            stroke-width: 1.69px;
            stroke: #0a0a0a;
          }
          .cls-12 {
            stroke-width: 1.48px;
            stroke: #0a0a0a;
          }
          .cls-13 {
            font-size: 15px;
            fill: #7dde18;
            stroke: #7dde18;
            stroke-width: 0.5px;
          }
          .cls-13,
          .cls-14,
          .cls-15 {
            font-family: MyDearWatson-Regular, My Dear Watson;
          }
          .cls-14 {
            font-size: 23px;
            fill: #ff6363;
            stroke: #ff6363;
            stroke-width: 0.81px;
          }
          .cls-15 {
            font-size: 14.7px;
            fill: #7d141c;
            stroke: #7d141c;
            stroke-linejoin: round;
            stroke-width: 0.5px;
          }
        </style>
      </defs>
      <g id="sticker">
        <path
          class="cls-1"
          d="M114.44,133.09a9,9,0,0,1-9-9,9,9,0,0,1,9-9l71.1.08a9,9,0,0,1,0,18.05Z"
        />
        <path fill="#0a0a0a"
          d="M114.45,115.8h0l71.09.08a8.28,8.28,0,0,1,0,16.55h0l-71.09-.09a8.27,8.27,0,0,1,0-16.54m0-1.5h0a9.77,9.77,0,0,0,0,19.54l71.09.09a9.78,9.78,0,1,0,0-19.55l-71.09-.08Z"
        />
        <path
          class="cls-2"
          d="M193.81,124.16a8.31,8.31,0,0,1-.14,1.51c-1.06.16-2.44-.38-4.32-1.64-3.29-2.2-4.72,2.51-8.49,0s-6.13.31-9.6,4.79-5.74,3.84-9,.77-10.91-10.7-16.35-5.29-12.27,2.74-17.13-2-9.75-.56-13.06,2.66-7.08,3-6.68.15c.33-2.35-1.13-2.7-2.9-1.27a8.29,8.29,0,0,1,8.28-8.06l71.09.09a8.26,8.26,0,0,1,8.26,8.28Z"
        />
        <path
          class="cls-3"
          d="M115.88,106a14.77,14.77,0,0,1-7.22-1.75c-2.06-1.2-3.2-2.84-3.2-4.61,0-10.14,14.05-18.39,31.28-18.39l26.57,0c8.3,0,16.1,1.89,22,5.29s9.31,8.16,9.3,13.16c0,3.55-4.58,6.33-10.41,6.33Z"
        />
        <path fill="#0a0a0a"
          d="M136.74,82h.06l26.51,0c16.88,0,30.55,7.94,30.53,17.7,0,3.08-4.33,5.58-9.66,5.58h0l-68.28-.06c-5.34,0-9.67-2.52-9.67-5.61,0-9.75,13.68-17.64,30.53-17.64m0-1.5c-8.41,0-16.34,1.91-22.33,5.37-6.24,3.61-9.69,8.5-9.7,13.77,0,2,1.27,3.92,3.58,5.26a15.45,15.45,0,0,0,7.59,1.85l68.28.06c6.27,0,11.18-3.11,11.18-7.08,0-5.28-3.43-10.18-9.68-13.8-6-3.48-13.92-5.4-22.35-5.4l-26.51,0Z"
        />
        <path
          class="cls-4"
          d="M188.18,89.41C188.81,95.2,180.81,101,156,101c-27,0-45.51-.49-48.34-6.75a11.09,11.09,0,0,0-1.45,5.37h0c0,3.09,4.33,5.6,9.67,5.61l68.28.06c5.34,0,9.68-2.49,9.68-5.58h0C193.85,95.85,191.75,92.3,188.18,89.41Z"
        />
        <path
          class="cls-3"
          d="M133.51,143.37c-13.29,0-24.53-3.7-27.32-7.12a2.88,2.88,0,0,1-.76-2.44c.4-2,3.51-2.21,5.82-2.21l77.45.06c1,0,4.46.1,5.52,1.37a1.39,1.39,0,0,1,.32,1.13c-.92,5.09-13.5,9.23-28.07,9.23Z"
        />
        <path fill="#0a0a0a"
          d="M111.25,132.35h0l77.43.06c2.82,0,5.28.6,5.1,1.61-.76,4.25-12.24,8.62-27.33,8.62h-.05l-32.91,0c-15.11,0-28.1-4.9-27.34-8.66.24-1.18,2.27-1.61,5.08-1.61m0-1.5c-1.64,0-6,0-6.55,2.81a3.57,3.57,0,0,0,.91,3.07c3.38,4.13,15.64,7.38,27.9,7.39l32.9,0h.06c15.16,0,27.81-4.32,28.8-9.85a2.1,2.1,0,0,0-.48-1.74c-1.18-1.42-4.32-1.64-6.09-1.64l-77.43-.06h0Z"
        />
        <path
          class="cls-4"
          d="M193.8,134c-.24,1.34-1.57,2.71-3.74,3.93-8.91-1.94-25.62-3.45-38-3.46-14,0-30.76,1.85-40.89,4.14-3.38-1.48-5.29-3.17-5-4.68.24-1.19,2.28-1.61,5.1-1.61l77.43.06C191.52,132.41,194,133,193.8,134Z"
        />
        <path
          class="cls-5"
          d="M162.32,124.11a9.34,9.34,0,0,1-6.65-2.76,7.88,7.88,0,0,0-11.14,0,9.38,9.38,0,0,1-13.27,0,11.06,11.06,0,0,0-7.45-3.5,7,7,0,0,0-4.5,1.65c-2.36,1.93-5.48,4-7.17,4a1.42,1.42,0,0,1-1.22-.57,2.07,2.07,0,0,1,0-1.93c.22-.63.14-.84.14-.84a0,0,0,0,1,0,0,1.34,1.34,0,0,0-.2,0,6.56,6.56,0,0,0-3,1.26,2.15,2.15,0,0,1-1.24.42,2.11,2.11,0,0,1-1.89-1.35,4.81,4.81,0,0,1,1-5,12,12,0,0,1,8.31-4.07l72,.08a9.13,9.13,0,0,1,8.23,5.22c1,2.1,1.18,3.88.46,5a2.37,2.37,0,0,1-2.1,1.11h0a5.1,5.1,0,0,1-2.8-1,2.27,2.27,0,0,0-1.21-.48c-.46,0-.84.3-1.43.78a4.25,4.25,0,0,1-2.8,1.27c-1.2,0-2.52-.62-4.14-1.95a7.89,7.89,0,0,0-11.2-.06A9.3,9.3,0,0,1,162.32,124.11Z"
        />
        <path fill="#0a0a0a"
          d="M114,112.14h0l72,.08a8.44,8.44,0,0,1,7.56,4.8c1.53,3.16.77,5.06-1,5.06a4.38,4.38,0,0,1-2.38-.89,2.91,2.91,0,0,0-1.63-.61c-1.58,0-2.32,2-4.23,2-.89,0-2.05-.45-3.66-1.78h0a8.64,8.64,0,0,0-12.21,0,8.62,8.62,0,0,1-12.2,0,8.64,8.64,0,0,0-12.21,0,8.63,8.63,0,0,1-12.21,0h0a11.79,11.79,0,0,0-8-3.72,7.7,7.7,0,0,0-5,1.82c-2.76,2.26-5.44,3.83-6.69,3.83-.67,0-.92-.46-.55-1.5.49-1.36,0-1.85-.77-1.85a7.27,7.27,0,0,0-3.44,1.39,1.41,1.41,0,0,1-.81.29c-1.44,0-2.27-2.81-.35-5.11a11.29,11.29,0,0,1,7.74-3.8m0-1.5h0c-3.84,0-7.42,2.59-8.89,4.34a5.6,5.6,0,0,0-1.07,5.79,2.85,2.85,0,0,0,2.57,1.78,2.94,2.94,0,0,0,1.68-.56,7.65,7.65,0,0,1,1.83-.95,2.58,2.58,0,0,0,.23,2.29,2.14,2.14,0,0,0,1.83.89c2.31,0,6.11-2.92,7.64-4.17a6.23,6.23,0,0,1,4-1.48,10.35,10.35,0,0,1,6.92,3.28,10.13,10.13,0,0,0,14.33,0,7.13,7.13,0,0,1,10.08,0,10.13,10.13,0,0,0,14.33,0,7.15,7.15,0,0,1,10.09,0l.05,0,0,.05c1.77,1.45,3.23,2.12,4.62,2.12a5,5,0,0,0,3.28-1.44c.38-.31.74-.61.95-.61a1.63,1.63,0,0,1,.79.35,5.86,5.86,0,0,0,3.22,1.15,3.14,3.14,0,0,0,2.74-1.46c.86-1.37.71-3.42-.42-5.76a9.9,9.9,0,0,0-8.91-5.64l-72-.08Zm-3.67,9.62Z"
        />
        <path
          class="cls-6"
          d="M166.14,130.08a4.75,4.75,0,0,1-3.39-1.4L148,113.88a3.25,3.25,0,0,0-2.32-1l-38.38,0a1.81,1.81,0,0,1-1.3-.54,1.85,1.85,0,0,1,1.3-3.15l85.44.1a1.85,1.85,0,1,1,0,3.69h-6.09a3.28,3.28,0,0,0-2.32,1l-14.8,14.77A4.77,4.77,0,0,1,166.14,130.08Z"
        />
        <path fill="#0a0a0a"
          d="M107.29,109.93h0l85.44.1a1.1,1.1,0,0,1,1.1,1.1h0a1.09,1.09,0,0,1-1.1,1.09h-6.1a4,4,0,0,0-2.84,1.17L169,128.16a4,4,0,0,1-2.85,1.17,4,4,0,0,1-2.85-1.18l-14.77-14.8a4,4,0,0,0-2.85-1.18l-38.38,0a1.1,1.1,0,0,1,0-2.19m0-1.5h0a2.6,2.6,0,0,0,0,5.19l38.38,0a2.5,2.5,0,0,1,1.79.74l14.76,14.8a5.55,5.55,0,0,0,7.83,0l14.8-14.77a2.51,2.51,0,0,1,1.78-.73h6.1a2.6,2.6,0,1,0,0-5.19l-85.43-.1Z"
        />
        <path
          class="cls-7"
          d="M182.93,110.69a4.06,4.06,0,0,0-2.85,1.18l-14.8,14.77a4,4,0,0,1-2.36,1.14l.37.37a4,4,0,0,0,5.7,0l14.8-14.77a4,4,0,0,1,2.85-1.17h6.09a1.1,1.1,0,0,0,1.1-1.09,1,1,0,0,0-.09-.42Z"
        />
        <path
          class="cls-8"
          d="M110.46,110.14a1.82,1.82,0,0,1-1.24-.48,1.67,1.67,0,0,1-.53-1.22V106a1.74,1.74,0,0,1,1.77-1.7l79.12.09a1.74,1.74,0,0,1,1.76,1.71v2.42a1.74,1.74,0,0,1-1.77,1.7Z"
        />
        <path fill="#0a0a0a"
          d="M110.46,105.07h0l79.11.09a1,1,0,0,1,1,1v2.42a1,1,0,0,1-1,.95h0l-79.11-.1a1,1,0,0,1-1-1V106a1,1,0,0,1,1-1m0-1.5h0a2.49,2.49,0,0,0-2.52,2.44v2.43a2.45,2.45,0,0,0,.77,1.77,2.54,2.54,0,0,0,1.75.68l79.11.1a2.49,2.49,0,0,0,2.52-2.45v-2.42a2.49,2.49,0,0,0-2.51-2.46l-79.12-.09Z"
        />
        <path
          class="cls-9"
          d="M189.57,105.16h-1.22v2.24a1,1,0,0,1-1,.95l-77.89-.09v.18a1,1,0,0,0,1,1l79.11.1a1,1,0,0,0,1-.95v-2.42A1,1,0,0,0,189.57,105.16Z"
        />
        <path
          class="cls-10"
          d="M135.65,83.87c0,.26-.68.46-1.51.46s-1.52-.21-1.52-.46.68-.47,1.52-.47S135.65,83.61,135.65,83.87Z"
        />
        <path
          class="cls-10"
          d="M139.76,83.76c0,.11-.34.2-.76.2s-.76-.09-.76-.2.34-.2.76-.2S139.76,83.65,139.76,83.76Z"
        />
        <path
          class="cls-10"
          d="M147.54,83.52c0,.11-.28.2-.63.2s-.63-.09-.63-.21.28-.2.63-.2S147.54,83.4,147.54,83.52Z"
        />
        <path
          class="cls-10"
          d="M144.69,85.73c0,.2-.34.35-.76.35s-.76-.15-.76-.35.34-.35.76-.35S144.69,85.54,144.69,85.73Z"
        />
        <path
          class="cls-10"
          d="M161,83.93c0,.25-.74.46-1.65.45s-1.64-.2-1.64-.45.74-.45,1.65-.45S161,83.68,161,83.93Z"
        />
        <path
          class="cls-10"
          d="M154.31,85.59c0,.17-.49.3-1.08.3s-1.07-.13-1.07-.3.48-.3,1.07-.3S154.31,85.42,154.31,85.59Z"
        />
        <path
          class="cls-10"
          d="M166.83,84c0,.22-.45.4-1,.4s-1-.18-1-.4.45-.41,1-.41S166.83,83.77,166.83,84Z"
        />
        <path
          class="cls-10"
          d="M168.16,87c0,.08-.34.15-.76.15s-.76-.07-.76-.16.34-.15.76-.15S168.16,86.93,168.16,87Z"
        />
        <path
          class="cls-10"
          d="M126.6,86.67c0,.25-.31.46-.7.46s-.69-.21-.69-.46.31-.45.7-.45S126.6,86.42,126.6,86.67Z"
        />
        <path
          class="cls-10"
          d="M138.49,88c0,.13-.74.25-1.64.25s-1.65-.12-1.65-.26.74-.25,1.65-.25S138.49,87.81,138.49,88Z"
        />
        <path
          class="cls-11"
          d="M176.56,86c8.67,2.63,14.56,7.76,14.55,13.63a1.94,1.94,0,0,1-.51,1.22"
        />
        <path class="cls-11" d="M164.41,84.17a48.93,48.93,0,0,1,6.53.58" />
        <line class="cls-11" x1="156.74" y1="84.15" x2="160.95" y2="84.15" />
        <path class="cls-12" d="M176.47,140.26a67.06,67.06,0,0,1-10,.72" />
        <path class="cls-12" d="M190.94,134.28c-.74,1.64-4,3.53-9.11,4.89" />
        <text id="unit" class="cls-13" transform="translate(109.44 73.57)">
          ~540 calories
        </text>
        <!-- <text class="cls-14" transform="translate(20.02 95.41)">
          <tspan id="value">532</tspan>
          <tspan id="unit" x="0" y="20">calories</tspan>
        </text>
        <rect fill="none" x="20" y="122" width="80" height="65" />
        <text fill="#0a0a0a" id="text" class="cls-15 wrap"></text>
         -->
        <rect fill="none" x="24" y="60" width="65" height="95"></rect>
        <text id="text" font-size="20px" class="cls-14 wrap"></text>

        <rect fill="none" x="24" y="150" width="155" height="30"></rect>
        <text id="analogy" class="cls-15 wrap"></text>

        <!-- <text id="analogy_text" class="cls-15" transform="translate(26.02 131.83)">
          1 x a burger
        </text> -->
      </g>
    </svg>

    <section></section>
    
    <script>
      var totalNutrients = {"calories": 540, "g fiber": 1, "g carbs": 40, "g sodium": 790, "g sugar": 1};
      var denominatorRoot = "a burger";
      var denominatorDescriptor;
      var unit = new URL(window.location.href).searchParams.get("unit");
      var value = new URL(window.location.href).searchParams.get("value");
      if(unit in totalNutrients) {
      denominatorValue = totalNutrients[unit];
      denominatorDescriptor = ' x ' + denominatorRoot;
    } else {
      denominatorValue = totalNutrients['calories'];
      denominatorDescriptor = " " + unit + ' per calorie of ' + denominatorRoot;
    }
      var analogy_value = (value/denominatorValue).toFixed(1) + " " + unit;
    
      var sel = document.querySelector('#analogy');
      sel.textContent = (value/denominatorValue).toFixed(1)  + denominatorDescriptor;

      var unitSel = document.querySelector('#unit');
      if(unit in totalNutrients) {
        unitSel.textContent = "~" + denominatorValue + " " + options['unit'];
      } else {
        unitSel.textContent = "~" + denominatorValue + " calories";
      }

    </script>
    <script src="../lib/moment.js"></script>
    <script src="../core/timeparser.js"></script>
    <script src="../core/textwrap.js"></script>
    <script src="../core/options.js"></script>
    <script src="../core/render.js"></script>
  </body>
</html>
